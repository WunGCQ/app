define("newsManager",["CONF","promise","util"],function(e,n,t){var r=e("CONF"),i=e("promise"),o=e("util"),a={},c=a.cache={};return a.get=function(e){var n=new i.Defer,t=n.promise,o=c[e];return o?n.resolve(o):axios.get(r.API.news+"/"+e).then(function(t){o=t.data,c[e]=o,n.resolve(o)},function(e){n.reject(e)}),t},a.save=function(e){var n=new i.Defer,t=n.promise,o=e&&e._id,a=o?"put":"post",u=r.API.news+"/"+(o||"");return axios[a](u,e).then(function(e){var t=e.data;c[t._id]=t,n.resolve(t)},function(e){n.reject(e)}),t},a.create=a.save,a.copy=function(e){return o.clone(e)},a.updataLocal=function(e){var n=e._id;c[n]&&(c[n]=e)},window.man=a,window.Util=o,a});