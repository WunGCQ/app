define("recordManager",["CONF","promise","util"],function(e,o,r){{var n=e("CONF"),t=e("promise"),c=e("util"),i={},d=i.records={};i.pages={}}return i.getRecord=function(e){var o=new t.Defer,r=o.promise,c=d[e];return c?o.resolve(c):axios.get(n.API.record+"/"+e).then(function(r){c=r.data,d[e]=c,o.resolve(c)},function(e){o.reject(e)}),r},i.deleteRecord=function(e){var o=new t.Defer;return e="object"==typeof e?e._id:e,axios["delete"](n.API.record+"/"+e).then(function(r){console.log(r),i.deleteLocalRecord(e),o.resolve(r.data)},function(e){o.reject(e)}),o.promise},i.saveRecord=function(e){var o=new t.Defer,r=o.promise,c=e&&e._id,i=c?"put":"post",a=n.API.record+"/"+(c||"");return axios[i](a,e).then(function(e){var r=e.data;d[c]=r,o.resolve(r)},function(e){o.reject(e)}),r},i.createRecrod=i.saveRecord,i.copyRecord=function(e){return c.clone(e)},i.updataLocalRecord=function(e){var o=e._id;d[o]&&(d[o]=e)},i.deleteLocalRecord=function(e){e="object"==typeof e?e._id:e,delete d[e]},i.archive=function(){},i.getPage=function(e,o){},window.man=i,window.Util=c,i});